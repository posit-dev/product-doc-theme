<div class="alert alert-dark alert-dismissible fade show" role="alert" id="version-alert">
    You are viewing the documentation for version {{< env PRODUCT_VERSION >}}.
    Documentation for other supported versions of this product are available
    <a href="https://docs.posit.co/previous-versions/{{< env PRODUCT >}}" class="alert-link">here</a>.
    <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
  </div>
  
  <script>
    const alertKey = 'version-alert-dismissed-{{< env PRODUCT_VERSION >}}';
  
    document.addEventListener('DOMContentLoaded', function () {
      const alertEl = document.getElementById('version-alert');
  
      // Hide the alert if dismissed
      if (localStorage.getItem(alertKey) === 'true') {
        if (alertEl) {
          alertEl.style.display = 'none';
        }
        return;
      }
  
      // Listen for dismiss and store it
      if (alertEl) {
        const closeBtn = alertEl.querySelector('.btn-close');
        if (closeBtn) {
          closeBtn.addEventListener('click', function () {
            localStorage.setItem(alertKey, 'true');
          });
        }
      }
    });
  </script>
  